<div id="statement_back" class="statement_back" style="display:none"></div>

    <div class="statement-body">

    <!-- LEAGUE ALERT -->
    <div style="color: #7cc576;
    background-color: rgba(124, 197, 118,.1);
    padding: 20px;
    margin-right: 15px;
    margin-left: 15px;
    margin-bottom: 10px;
    text-align: left;">
        <div style="text-align: center; margin-bottom: 6px">
            <img src="//cdn.codingame.com/smash-the-code/statement/league_wood_04.png" />
        </div>

        <!-- BEGIN bronze -->
        <p style="text-align: center; font-weight: 700; margin-bottom: 6px;">
            Summary of new rules
        </p>
        <span class="statement-league-alert-content">
            <!--TODO: League alerts and specific rule sections-->
            Placeholder.<br />
            See the updated statement for details.
      </span>
        <!-- END -->
    </div>


    <!-- GOAL -->
    <div class="statement-section statement-goal">
        <h1>
            <span class="icon icon-goal">&nbsp;</span>
            <span>The Goal</span>
        </h1>
        <div class="statement-goal-content">
            <!-- LEAGUES wood3 wood2 wood1 bronze -->
            To destroy the enemy Queen.
        </div>
    </div>


    <!-- RULES -->
    <div class="statement-section statement-rules">
        <h1>
            <span class="icon icon-rules">&nbsp;</span>
            <span>Rules</span>
        </h1>
        <div><div class="statement-rules-content">

            <p><strong>Field</strong></p>

            <p>
                The game is played by two players on a semi-open two-dimensional field <const>1920</const> units wide and <const>970</const>
                units high, littered with circular obstacles of varying radius. The top-left corner is 0,0.<br>
                The field is generated randomly every game, with the obstacles being symmetrically laid out (rotationally around the map's center).
            </p>

            <!-- BEGIN wood3 wood2 -->
            <!-- END -->

            <p><strong>Queens</strong>

            <p>Each player controls a single Queen character, who can establish different structures on those obstacles.
            The Queen is the player’s only way to directly interact with the field.

            The Queen is modeled as a circle with radius 20 units, and moves up to 60 units every turn.<br>
            Each Queen starts with 200 HP, and will be destroyed if this drops to zero -- if this happens, the player will lose the game.<br>
            If both Queens are destroyed on the same turn, the game will end in a draw.<br>

            <p><strong>Structures</strong></p>

            <p>
                <br>
                A Queen character can build a structure on an obstacle that she is in contact with.<br>
                If she so chooses, a Queen can replace an existing friendly structure simply by building another one in its place (unless it is a Barracks that is currently training).<br>
                If an enemy structure is already in place on an obstacle, a Queen cannot replace it.<br>
                If both Queens try simultaneously to build a structure on the same obstacle, neither structure will be built.<br>
                <br>
                Structures can be built at no cost. Towers and mines begin working the turn they are built, and can be grown over time. Barracks are available for use on the turn immediately following their construction.<br>
            </p>

            <p><strong>Mining</strong><br>
                <br>
                Players will need mineral resources to win, and for that, a Queen must build a mine on an obstacle.<br>
                <br>
                Each obstacle has a different rate at which resources can be collected, ranging from +1/turn to +5/turn.<br>
                When a mine is first built, it has an income rate of +1. This can be increased by issuing repeated commands to build a mine on the same obstacle, up to its maximum capacity.<br>
                Resources will accumulate in the player’s bank over several turns automatically. However, the obstacle will be exhausted of resources over time.<br>
                Obstacles begin with different, random amounts of resources every game. Obstacles near the middle of the field have higher resources available, and higher maximum mining rates.<br>
                Resource totals and mining rates are not given for all obstacles, they must be discovered by the Queen. These numbers will be available for any
                obstacle whose center is within 300 units from the Queen.<br>
                <br>
                A mine will be destroyed if:
                <ul>
                    <li>It runs out of resources</li>
                    <li>An enemy creep or the enemy Queen comes in contact with it</li>
                </ul>
            </p>

            <p><strong>Creeps</strong><br>
                <br>
                In order to destroy the enemy Queen, a player will need to build creeps.<br>
                Once built, creeps follow very simple behaviours (see below), and cannot be controlled by the player.<br>
                Creeps will eventually age and die on their own, losing 1HP every turn.<br>
                <br>
                There are three different creep types that can be built.<br>

                <table style="border-spacing: 10px; border-collapse: separate;">
            <tr>
                <th>Type</th>
                <td>MELEE</td>
                <td>RANGED</td>
                <td>GIANT</td>

            </tr>
            <tr>
                <th>Cost</th>
                <td>80</td>
                <td>120</td>
                <td>140</td>
            </tr>
            <tr>
                <th>Number</th>
                <td>4</td>
                <td>2</td>
                <td>1</td>

            </tr>
            <tr>
                <th>Speed</th>
                <td>100</td>
                <td>75</td>
                <td>50</td>

            </tr>
            <tr>
                <th>Range</th>
                <td>0</td>
                <td>200</td>
                <td>0</td>

            </tr>
            <tr>
                <th>HP</th>
                <td>30</td>
                <td>45</td>
                <td>200</td>

            </tr>
            <tr>
                <th>Training Time (turns)</th>
                <td>5</td>
                <td>8</td>
                <td>10</td>

            </tr>
            <tr>
                <th>Radius</th>
                <td>10</td>
                <td>15</td>
                <td>25</td>

            </tr>
                </table>

                <br>
                MELEE units are light, fast units which attack the enemy Queen, dealing 1 damage every turn they end in contact with the enemy Queen.<br>
                RANGED units are slower, ranged units which move toward and attack nearby enemy creeps from a short distance.<br>
                They deal 1 damage to the their nearest enemy creep every turn they end within range of that creep. (Note: they can shoot past obstacles).<br>
                GIANT units do not attack the enemy Queen or enemy creeps, but instead attack nearby enemy towers and break them down over time.<br>
                <br>
                A player needs to build a BARRACKS with his Queen in order to create creeps.<br>
                A barracks can be destroyed if it is touched by the enemy Queen.<br>
                Training creeps is explained in a section below.<br><br>
            </p>

            <p><strong>Towers</strong><br>
                <br>
                With enemy creeps hunting down the Queen, a player will be well-advised to create some static defense in the form of towers. These are also built by the Queen.<br>
                <br>
                When a tower is first built, is has a small firing radius.<br>
                A player can grow an existing tower by having the Queen stand next to it and issuing the same order again; this will increase the tower’s firing radius over several turns.<br>
                Once built, towers start to degrade slowly. A tower will eventually degrade completely and be destroyed.<br>
                This can be delayed by regular visits by the Queen, and issuing the BUILD TOWER command again.<br>
                <br>
                Every turn, towers automatically fire upon the nearest enemy creep inside their firing radius. They deal 10 damage, minus one damage for every 200 units measured from the edge of the obstacle.<br>
                If there are no creeps in range, but the enemy Queen is in range, a tower will fire upon her instead, dealing 1 damage.<br>
            </p>

            <p><strong>Training Creeps</strong><br>
                <br>
                Every obstacle is numbered, starting from 0.<br>
                A player trains creeps by indicating which numbered obstacles containing a barracks he wishes to train creeps at.<br>
                Examples:<br>
                <ul>
                    <li>“TRAIN 13 6 19” - Three barracks begin training creeps</li>
                    <li>“TRAIN 14” - One barracks begins training creeps</li>
                    <li>“TRAIN” - No barracks begin training creeps.</li>
                </ul>
                <br>
                Every barracks is built with the ability to train a single creep type.<br>
                When the train commands are sent, the player pays the total cost in resources, and indicated barracks will begin training the appropriate set of units.<br>
                After the appointed number of turns elapses, a set of creeps emerges from the barracks and begins acting by themselves on the following turn.<br>
                <br>
                A barracks that is already in the middle of training cannot begin training again until the current creep set is built.<br>
                Also, such a barracks cannot be replaced by another structure.<br>
            </p>
        </div>


            <!-- Victory conditions -->
            <div class="statement-victory-conditions">
                <div class="icon victory"></div>
                <div class="blk">
                    <div class="title">Victory Conditions</div>
                    <div class="text">
                        <ul>
                            <li>Destroy the enemy Queen.</li>
                            <li>After 250 turns, your Queen has more HP than the enemy Queen.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Lose conditions -->
            <div class="statement-lose-conditions">
                <div class="icon lose"></div>
                <div class="blk">
                    <div class="title">Lose Conditions</div>
                    <div class="text">
                        <ul>
                            <li>Your Queen is destroyed.</li>
                            <li>Output an invalid command.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


        <!-- EXPERT RULES -->
        <div class="statement-section statement-expertrules">
            <h1>
                <span class="icon icon-expertrules">&nbsp;</span>
                <span>Expert Rules</span>
            </h1>
            <div class="statement-expert-rules-content">

                <p><strong>Turn sequence</strong><br></p>
                <ol>
                    <li>Game state sent to players</li>
                    <li>Player inputs received and processed:
                        <ul>
                            <li>New trainees started</li>
                            <li>Queens move</li>
                            <li>New structures built</li>
                        </ul>
                    </li>
                    <li>Existing creeps age (dead creeps removed)</li>
                    <li>Remaining creeps move, collisions resolved</li>
                    <li>Creeps attack and destroy enemy mines</li>
                    <li>Queens destroy enemy mines and barracks</li>
                    <li>Remaining structures act (including ones built this turn):
                        <ul>
                            <li>Towers shoot, dead creeps removed</li>
                            <li>Barracks that are in progress advance; new creeps spawned</li>
                            <li>Mines collect resources for Queens</li>
                        </ul>
                    </li>
                    <li>End game condition checked</li>
                </ol>

                <p><strong>Collisions</strong><br>
                    <br>
                    Units cannot share space. All obstacles, Queens and creeps are modeled as circles.<br>
                    <br>
                    Unit movement is done by simply moving toward the desired target. However, at the end of every turn, a series of collision
                    checks are performed. While there are any collisions, the offending units are simply translated away from each other (except for
                    obstacles, they stay put.) Hence it is possible for a Queen to be "shoved" out of her way by a swarm of creeps.<br>
                    <br>
                    For this purpose, units are assigned a weight as follows:<br>
                </p>
                <ul>
                    <li>Obstacle: infinite (unmovable)</li>
                    <li>Queen: 100</li>
                    <li>Giant: 20</li>
                    <li>Ranged: 9</li>
                    <li>Melee: 4</li>
                </ul>
                <p>
                    In case of collisions, a lower-weight unit will be displaced more than a higher-weight unit.<br>
                    <br>
                    Two entities are considered "touching" by comparing the distance between their centers, thus: <br>
                    isTouching = distance - radius1 - radius2 < 3. This applies to:
                </p>
                <ul>
                    <li>MELEE - Queen (damage)</li>
                    <li>Queen - Obstacle (construction, and tearing down enemy structures)</li>
                    <li>Creep - Mine</li>
                    <li>GIANT - Tower</li>
                </ul>

                <p><strong>Obstacle resources</strong></p>

                <p>
                    All obstacles are randomized in pairs: attributes that apply to mirroring obstacles are always the same at the game's start.<br>
                    Each obstacle-pair gets assigned a random resource pool amount between 200 and 250, a maximum mining rate between +1 and +3, and a radius between 60 and 110 units.<br>
                    Obstacles whose center is located within 500 units of the map's center are given a bonus of 50 resources, and +1 to maximum mining rate.<br>
                    Obstacles whose center is located within 200 units of the map's center are given a further bonus of 50 resources, and +1 to maximum mining rate.<br>
                </p>

                <p><strong>Tower HP</strong></p>

                <p>
                    Each tower has a number of HP (param1) that determines its effective attack radius (param2).<br>
                    Each 1HP allows the tower to cover 1000 square-units (a square unit is not very much!), not including the area of the obstacle on which it sits.<br>
                    The attack radius is calculated every turn according to the tower's HP according to the formula: <br>
                    attackRadius = sqrt((hp * 1000 + obstacleArea) / PI) -- this is measured from the obstacle's center.<br>
                    This is so that PI * attackRadius^2 = hp * 1000 + obstacleArea.<br>
                    When a tower is first built, it receives 200HP. This corresponds to a variable attack range: longer attack range for a smaller radius obstacle.<br>
                    When an existing tower is grown, it receives 100 additional HP.<br>
                    The maximum amount of HP for towers is 800.<br>
                    Every tower loses 4 HP per turn due to exposure to the elements.<br>
                    Each GIANT that ends its turn next to a tower reduces its HP by 80. Hence a Queen can slightly outpace a single GIANT by building at the same time.<br>
                </p>

                <p><strong>Draws</strong><br>
                    <br>
                    The game will end in a draw if after 250 turns both Queens have the same HP.<br>
                </p>

            </div>
        </div>

         <!-- PROTOCOL -->
        <div class="statement-section statement-protocol">
            <h1>
                <span class="icon icon-protocol">&nbsp;</span>
                <span>Game Input</span>
            </h1>
            <!-- Protocol block -->
            <div class="blk">
                <div class="title">Initialization input</div>
                <div class="text">
                    <span class="statement-lineno">Line 1:</span> an integer <var>numObstacles</var>, indicating the number of obstacles on the map.<br>
                    <span class="statement-lineno">Next <var>numObstacles</var> lines:</span> 4 integers <var>obstacleId</var> <var>x</var> <var>y</var> <var>radius</var><br>
                    <ul>
                        <li><var>obstacleId</var>: The numeric identifier of the obstacle</li>
                        <li><var>x y</var>: The numeric coordinates of the obstacle's center</li>
                        <li><var>radius</var>: The radius of the obstacle</li>
                    </ul>
                </div>
            </div>

            <!-- Protocol block -->
            <div class="blk">
                <div class="title">Input for one game turn</div>
                <div class="text">

                    <span class="statement-lineno">Line 1:</span>A single integer <var>resources</var>: the current amount of resources available to be spent<br>
                    <span class="statement-lineno">Next <var>numObstacles</var> lines:</span> Seven integers <var>obstacleId</var> <var>resources</var>
                        <var>maxMineSize</var> <var>structureType</var> <var>owner</var> <var>param1</var> <var>param2</var><br>
                    <ul>
                        <li><var>obstacleId</var>: The numeric identifier of the obstacle</li>
                        <li><var>resources</var>: The total number of resources remaining to be mined from this obstacle (-1 if unknown)</li>
                        <li><var>maxMineSize</var>: The maximum rate that a mine can extract resources from this obstacle (-1 if unknown)</li>
                        <li><var>structureType</var>:
                            <ul>
                                <li><const>-1</const>: No structure</li>
                                <li><const>0</const>: Resource Mine</li>
                                <li><const>1</const>: Tower</li>
                                <li><const>2</const>: Barracks</li>
                            </ul>
                        </li>
                        <li><var>owner</var>:
                            <ul>
                                <li><const>-1</const>: No structure</li>
                                <li><const>0</const>: Friendly</li>
                                <li><const>1</const>: Enemy</li>
                            </ul>
                        </li>
                        <li><var>param1</var>:
                            <ul>
                                <li>When no structure: <const>-1</const></li>
                                <li>When resource mine: the income rate ranging from <const>1</const> to <const>5</const>(or <const>-1</const> if enemy)</li>
                                <li>When tower: the remaining HP</li>
                                <li>When barracks, the current progress of a set of creeps being trained or <const>0</const> if nothing is being trained</li>
                            </ul>
                        </li>
                        <li><var>param2</var>
                            <ul>
                                <li>When no structure: <const>-1</const></li>
                                <li>When resource mine: <const>-1</const></li>
                                <li>When tower: the attack radius measured from its center</li>
                                <li>When barracks: the creep type: <const>0</const> for MELEE, <const>1</const> for RANGED, <const>2</const> for GIANT</li>
                            </ul>
                        </li>
                    </ul>
                    <br>
                    <span class="statement-lineno">Next Line:</span> <var>numUnits</var>: Number of total active units, including Queens<br>
                    <span class="statement-lineno">Next <var>numUnits</var> lines: 5 integers <var>x</var> <var>y</var> <var>owner</var> <var>type</var> <var>health</var> </span><br>
                    <ul>
                        <li><var>x</var> <var>y</var>: Coordinates of the unit</li>
                        <li><var>health</var>: Current HP of the unit</li>
                        <li><var>type</var>: The unit type: <const>-1</const> for Queen, <const>0</const> for MELEE, <const>1</const> for RANGED, <const>2</const> for GIANT</li>
                    </ul>
                </div>
            </div>

            <!-- Protocol block -->
            <div class="blk">
                <div class="title">Output for one game turn
                    <strong>First line:</strong> One of the following
                    <ul>
                        <li><action>WAIT</action> Do nothing</li>
                        <li><action>MOVE x y</action> Will attempt to move towards the provided coordinates (x,y given as integers)</li>
                        <li><action>BUILD {obstacleId} MINE</action> Will attempt to build a resource mine at the indicated obstacle. If too far away, the Queen will instead move towards the obstacle.</li>
                        <li><action>BUILD {obstacleId} TOWER</action> Will attempt to build or repair a tower at the indicated obstacle. If too far away, the Queen will instead move towards the obstacle.</li>
                        <li><action>BUILD {obstacleId} BARRACKS-{type}</action> Will attempt to build a barracks at the indicated obstacle. If too far away, the Queen will instead move towards the obstacle. The type must be given as either <action>MELEE</action>, <action>RANGED</action>, or <action>GIANT</action>.</li>
                    </ul>
                    <strong>Second line:</strong> <action>TRAIN</action> followed by a list of <const>obstacleId</const>s to start training at.
                </div>
            </div>

            <!-- Protocol block -->
            <div class="blk">
                <div class="title">Constraints</div>
                <div class="text">
                    Response time for first turn ≤ 1000ms <br>
                    Response time for one turn ≤ 50ms</div>
            </div>
        </div>

    <!-- STORY -->
    <div class="statement-story-background">
        <div class="statement-story-cover" style="background-size: cover;">
            <div class="statement-story" style="min-height: 300px; position: relative">
                <h2>Code Royale</h2>
                <div class="story-text">
                    <!--TODO: Write engaging story.-->
                    <p>Engaging story.</p>
                </div>
            </div>
        </div>
    </div>
</div>
